# 4-5 C#의 클래스 확장
클래스, 캡슐화, 상속, 다형성을 구현하는 것으로 C# 언어가 객체지향 언어라고 말할 수는 있지만 현실 세계에서 프로그래밍하려면 좀 더 다양한 요소가 필요하다. 

## 1. 타입 유형 확장 
지금까지 현실 세계의 다양한 객체를 class 구문을 이용해 프로그래밍 세계의 타입으로 구현해 봤다. 얼핏 생각해 보면 여기서 배운 class 만으로도 모든 구문을 표현할 수 있다고 자신할 수 있겠지만 프로그래밍하다 보면 좀 더 다양한 유형이 필요하다는 것을 깨닫게 된다.

### 1-1 중첩 클래스
중첩 클래스(nested class)는 클래스 내부에 또 다른 클래스를 정의하는 것이다. 그런데 그런 경우가 정말 필요할까? 예를 들어, 하드디스크를 생각해 보자. 하드 디스크는 내부에 플래터(platter)라고 하는 원형 금속판을 여러 개 포함하고 있으며, 헤드(head)가 그 금속판 위에 데이터를 읽고 쓰는 동작을 수행한다. 플래터와 헤드는 다른 구성 요소에 재사용되기보다는 하드 디스크 전용으로 내장되는 것이 일반적이다. 그런데도 각 요소를 클래스로 나누어 정의하면 플래터와 헤드가 다른 클래스에서 사용되는 것을 막을 수 없다. 자칫 개발자로 하여금 실수할 여지가 남아 있게 되는 것이다. 
<br>

class의 경우 접근 제한자를 생략하면 기본적으로 internal이 지정된다고 설명한 바 있다. 하지만 중첩 클래스의 경우 접근 제한자가 생략되면 다른 멤버와 마찬가지로 pricate이 지정되어 외부에서 인스턴스를 직접 생성하는 것이 불가능해진다. 중첩 클래스를 외부에서 사용하고 싶다면 명시적으로 public 접근 제한자를 지정해야 한다. 
<br>

### 1-2 추상 클래스
앞에서 설명한 메서드 오버라이드는 일반적으로 virtual 메서드를 정의한 부모 클래스에서 그에 대한 기본적인 기능을 구현하고, 자식 클래스에서는 override 예약어를 이용해 그 기능을 재정의 한다. 또한 부모 클래스와 자식 클래스 모두 new를 이용해 인스턴스를 생성하는 것이 가능하다. 그런데 때로는 부모 클래스의 인스턴스를 생성하지 못하게 하면서 특정 메서드에 대해 자식들이 반드시 재정의 하도록 강제하고 싶을 수 있다. 추상 클래스와 추상 메서드는 그와 같은 상황을 위해 존재한다. 
<br>

여기서 두 가지 새로운 개념이 나왔다. 우선 추상메서드는 abstract 예약어가 지정되고 구현 코드가 없는 메서드를 말한다. 추상 메서드는 일반 클래스에 존재할 수 없으며, 반드시 추상 클래스 안에서만 선언할 수 있다. abstract 예약어가 지정된 추상 메서드를 다른 말로 쉽게 정의하자면 "코드 없는 가상 메서드(virtual method)" 라고 이해하면 된다
<br>

> 추상 메서드에는 접근 제한자로 private을 지정할 수 없다. 추상 메서드는 반드시 자식 클래스에서 재정의 해야 한다는 점을 감안해 보면 이를 상식적으로 이해할 수 있다.
<br>

추상 클래스는 abstract 예약어가 지정돼 있다는 점을 제외하면 일반 클래스 정의와 완전히 동일하다. 이 예약어로 인해 일반 클래스와 차별화되는 점은 1) new를 사용해 인스턴스로 만들 수 없다는 것과 2) 추상 메서드를 가질 수 있다는 것뿐이다.
<br>

추상 메서드는 가상 메서드에 속하기 때문에 자식 클래스에서 override 예약어를 사용해 재정의한다. 당연히 가상 메서드이므로 다형성의 특징이 그대로 적용된다.
<br>

물론코드가 비어 있는 가상 메서드와 일반 클래스의 조합으로 정의해도 무방하다. 단지 가상 메서드는 자식 클래스에서 재정의 하지 않아도 컴파일할 때 오류가 발생하지 않지만 추상 클래스의 추상 메서드는 자식 클래스에서 반드시 재정의해야만 컴파일된다. 즉, 컴파일 단계에서부터 재정의를 강제하고 싶을 때 유용하게 사용할 수 있는 것이 바로 추상 클래스와 추상 메서드다. 
